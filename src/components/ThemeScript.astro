---
// Theme initialization script to prevent FOUC (Flash of Unstyled Content)
---

<script is:inline>
  // This script runs immediately to prevent FOUC
  (function() {
    function setTheme() {
      const savedTheme = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    }
    
    setTheme();
  })();
</script>